"use strict";(self.webpackChunkcool_chess_school=self.webpackChunkcool_chess_school||[]).push([[147],{9690:(e,a,n)=>{n.r(a),n.d(a,{default:()=>G});var i=n(9950),l=n(2752),s=n(8107),c=n(5576),t=n(6972),r=n(1e3),o=n(7833),d=n(6589),p=n(8738),m=n.n(p),h=n(9379),x=n(8695),y=n(6004),_=n(2861),g=n(4414);const{Title:u}=x.A,j=e=>{let{title:a,number:n,mb:i}=e;return(0,g.jsxs)(y.A,{className:"section-item__container",style:{marginBottom:i},children:[(0,g.jsx)(y.A,{className:"section-item__number",children:n}),(0,g.jsx)(u,{level:5,className:"section-item__title",children:a})]})},A=e=>{let{content:a,id:n,selected:i,onClick:l,styles:s={}}=e;return(0,g.jsx)(y.A,{className:"selected-element__container ".concat(i&&"active"),style:s,onClick:()=>l(n,i),children:a})};var v=n(8147),w=n(45),N=n(1304);const f=["onChange","label"],b=(0,i.forwardRef)((e,a)=>{const{onChange:n,label:i}=e,l=(0,w.A)(e,f);return(0,g.jsx)(N._g,(0,h.A)((0,h.A)({},l),{},{mask:[{mask:"0 (000) 000-00-00"},{mask:"000 000 000 000"},{mask:"0 000 000 000 000"},{mask:"000000000000000"}],definitions:{"#":/[1-9]/},inputRef:a,onAccept:a=>n({target:{name:e.name,value:a}}),overwrite:!0,placeholder:i}))}),k=e=>{const{value:a,onChange:n,label:i,type:l,error:s}=e;return(0,g.jsx)("div",{className:"input__container",children:(0,g.jsx)(v.A,(0,h.A)({id:"input-basic",label:i,value:a,onChange:n,variant:"filled",size:"medium",color:"primary",className:"input__textfield ".concat(s&&"error"),error:s,InputProps:"telephone"===l?{inputComponent:b}:{}},e))})};var C=n(2887),O=n(7177),P=n(3641);const{Title:T,Text:I}=x.A,S=e=>{var a;let{payment:n={},tarif:l={}}=e;const s=(0,d.A)("(max-width:700px)"),[c,o]=(0,i.useState)([]);(0,i.useEffect)(()=>{o(n.itemPrices.map(e=>(0,h.A)((0,h.A)({},e),{},{selected:e.id===(null==l?void 0:l.id)})))},[n,l]);const[p,m]=(0,i.useState)({fio:"",email:"",telephone:""}),[x,u]=(0,i.useState)({fio:!1,email:!1,telephone:!1,rate:!1,privacyPolicy:!1,videoPrivacyPolicy:!1}),[v,w]=(0,i.useState)(!1),[N,f]=(0,i.useState)(!1),b=(e,a)=>{const n=c.map(n=>n.id===e?(0,h.A)((0,h.A)({},n),{},{selected:!a}):(0,h.A)((0,h.A)({},n),{},{selected:!1}));o(n)},S=(e,a)=>{m((0,h.A)((0,h.A)({},p),{},{[e]:a.target.value}))};return(0,g.jsxs)(y.A,{direction:"vertical",size:"large",style:{display:"flex"},className:"new-payment__container",children:[(0,g.jsx)(T,{level:2,className:"new-payment__title",children:"Оплата занятий"}),(0,g.jsx)(y.A,{className:"new-payment__main-content",children:(0,g.jsxs)("form",{className:"new-payment__form",method:"POST",action:C.k+"/create/",onSubmit:e=>{e.preventDefault();if(Object.values(p).some(e=>""===e.trim())||!c.some(e=>e.selected)||!v||!N){const e={fio:!p.fio,email:!p.email,telephone:!p.telephone,rate:!c.some(e=>e.selected),privacyPolicy:!v,videoPrivacyPolicy:!N};return void u(e)}window.ym&&window.ym(96915259,"reachGoal","BUTTON_CLICK"),e.target.submit()},children:[(0,g.jsx)("input",{className:"new-payment__display-none",type:"text",name:"service_name",value:"Оплата занятий"}),(0,g.jsxs)(y.A,{className:"new-payment__section-item-1",children:[(0,g.jsx)(j,{title:"Выберите количество занятий",number:1,mb:20}),(0,g.jsx)(y.A,{className:"new-payment__selected-elements",direction:"vertical",children:c&&(null==c?void 0:c.map(e=>{const a=(0,g.jsxs)("div",{className:"new-payment__tarif",children:[(0,g.jsx)("div",{className:"new-payment__description",children:e.description}),(0,g.jsxs)("div",{className:"new-payment__price",children:[e.price," ₽"]})]});return(0,g.jsx)(A,{content:a,id:e.id,selected:e.selected,onClick:b,styles:s?{}:{height:50}},e.id)}))}),(0,g.jsx)("input",{className:"new-payment__display-none",type:"text",name:"sum",value:(null==c||null===(a=c.find(e=>e.selected))||void 0===a?void 0:a.price_rub)||""}),x.rate&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Выберите количество занятий"})})]}),(0,g.jsxs)(y.A,{className:"new-payment__section-item-2",children:[(0,g.jsx)(j,{title:"Укажите ваши данные",number:2,mb:20}),(0,g.jsxs)(y.A,{className:"new-payment__user-data",direction:"vertical",children:[(0,g.jsx)(k,{value:p.fio,onChange:e=>S("fio",e),label:"ФИО",name:"Telephone",autoFocus:!0,error:x.fio}),(0,g.jsx)("input",{className:"new-payment__display-none",type:"text",name:"clientid",value:p.fio}),x.fio&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Укажите ФИО"})}),(0,g.jsxs)(y.A,{className:"new-payment__two-inputs",style:{marginBottom:16,width:"100%"},children:[(0,g.jsxs)(y.A,{direction:"vertical",style:s?{width:"100%"}:{},children:[(0,g.jsx)(k,{value:p.email,onChange:e=>S("email",e),label:"Email",name:"Telephone",autoFocus:!0,error:x.email,type:"email"}),(0,g.jsx)("input",{className:"new-payment__display-none",type:"text",name:"client_email",value:p.email}),x.email&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Укажите Email"})})]}),(0,g.jsxs)(y.A,{direction:"vertical",style:s?{width:"100%"}:{},children:[(0,g.jsx)(k,{value:p.telephone,onChange:e=>S("telephone",e),label:"Телефон",type:"telephone",name:"Telephone",autoFocus:!0,error:x.telephone}),(0,g.jsx)("input",{className:"new-payment__display-none",type:"text",name:"client_phone",value:p.telephone}),x.telephone&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Укажите номер телефона"})})]})]}),(0,g.jsxs)(y.A,{className:"new-payment__privacy-policy",children:[(0,g.jsx)(_.A,{onChange:()=>{w(e=>!e)},className:"new-payment__policy__checkbox ".concat(x.privacyPolicy&&"error"),checked:v,children:(0,g.jsxs)("span",{className:"new-payment__policy__title",children:["Я согласен с"," ",(0,g.jsx)("a",{href:O,target:"_blank",rel:"noreferrer",children:"политикой конфиденциальности"})]})}),x.privacyPolicy&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Обязательно для заполнения"})})]}),(0,g.jsxs)(y.A,{className:"new-payment__privacy-policy",children:[(0,g.jsx)(_.A,{onChange:()=>{f(e=>!e)},className:"new-payment__policy__checkbox ".concat(x.videoPrivacyPolicy&&"error"),checked:N,children:(0,g.jsxs)("span",{className:"new-payment__policy__title",children:["Я согласен с"," ",(0,g.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:"политикой использования видеоматериалов"})]})}),x.videoPrivacyPolicy&&(0,g.jsx)(y.A,{className:"new-payment__error-text",children:(0,g.jsx)(I,{type:"danger",children:"Обязательно для заполнения"})})]})]})]}),(0,g.jsx)(y.A,{className:"new-payment__buttons",children:(0,g.jsx)(t.Ay,{theme:{components:{Button:{colorPrimary:" #464BFF",colorPrimaryHover:"black",colorPrimaryActive:"black",lineWidth:0,fontWeight:"600",paddingBlock:18,paddingInline:20}}},children:(0,g.jsx)(r.Ay,{htmlType:"submit",type:"primary",className:"new-payment__button",children:"Банковской картой"})})})]})})]})};var E=n(4673);const H=n.p+"static/media/trophy.2ca74b80db8ac4b8b33e.png",B=n.p+"static/media/dolyami_image.c39ff063b5b6d6f996c6.png",G=e=>{var a,n,p,h,x;let{prices:y=[],hasAdditional:_=!1,hideElements:u=!1,titlePt:j="0px"}=e;const A=(0,d.A)("(max-width:700px)"),[v,w]=(0,i.useState)(y[0]),[N,f]=(0,i.useState)({}),[b,k]=(0,i.useState)(null===(a=y[0])||void 0===a?void 0:a.flag),C=[null===(n=y[0])||void 0===n?void 0:n.flag,null===(p=y[1])||void 0===p?void 0:p.flag,null===(h=y[2])||void 0===h?void 0:h.flag],[O,P]=(0,i.useState)(!1),T=()=>{P(!0)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"new-price-page__container",id:"new-price-page__container",children:(0,g.jsx)(E.A,{title:"Стоимость",padding:"".concat(j,A?" 0px":" 40px 40px"),paddingLeftTitle:A&&"15px",children:(0,g.jsxs)(l.A,{className:"new-price-page__content",id:"price",children:[(0,g.jsxs)(s.A,{flex:1,className:"new-price-page__image-container",children:[(0,g.jsx)("img",{src:v.image,alt:"new-price-page-icon",className:"new-price-page__image",loading:"lazy"}),b===(null===(x=y[2])||void 0===x?void 0:x.flag)&&(0,g.jsx)("div",{className:"new-price-page__icon",children:(0,g.jsx)("img",{src:H,alt:"icon-price-page",loading:"lazy"})})]}),(0,g.jsxs)(s.A,{flex:1.5,className:"new-price-page__main-content",children:[(0,g.jsx)("div",{className:"new-price-page__segmented",children:(0,g.jsx)(c.A,{options:C,block:!0,value:b,onChange:e=>{k(e);const a=y.find(a=>a.flag===e);a&&w(a)},className:"new-price-page__segmented-component"})}),(0,g.jsxs)("div",{className:"new-price-page__paper-text",children:[(0,g.jsx)("h3",{className:"new-price-page__main-text",children:v.title}),(0,g.jsx)("p",{className:"new-price-page__subtitle",children:v.subtitle})]}),(0,g.jsx)("div",{className:"new-price-page__paper-price-items",children:v.itemPrices.map(e=>(0,g.jsxs)("div",{className:m()(_?"new-price-page__items-2":"new-price-page__items"),onClick:()=>(e=>{var a;const n=null==v||null===(a=v.itemPrices)||void 0===a?void 0:a.find(a=>a.id===e);f(n),T()})(e.id),children:[(0,g.jsxs)("div",{className:"new-price-page__block-description",children:[(0,g.jsx)("p",{className:"new-price-page__description",children:e.description}),(0,g.jsxs)("p",{className:"new-price-page__price",children:[e.price," ₽"]})]}),_&&(0,g.jsx)("div",{className:"new-price-page__additional-text",children:(0,g.jsx)("span",{children:e.additional_content})})]},e.id))}),!u&&(0,g.jsx)("div",{className:"new-price-page__button",children:(0,g.jsx)(t.Ay,{theme:{components:{Button:{colorPrimary:" #464BFF",colorPrimaryHover:"black",colorPrimaryActive:"black",lineWidth:0,fontWeight:"600",paddingBlock:18,paddingInline:20}}},children:(0,g.jsx)(r.Ay,{type:"primary",onClick:T,size:"large",className:"new-price-page__sign-up-btn",children:"Записаться на обучение"})})})]})]})})}),!u&&(0,g.jsxs)("div",{className:"new-price-page__dolyami",children:[(0,g.jsx)("div",{className:"new-price-page__icon",children:(0,g.jsx)("img",{src:B,alt:"dolyami-icon",loading:"lazy"})}),(0,g.jsxs)("div",{className:"new-price-page__quote",children:[(0,g.jsx)("div",{className:"new-price-page__text",children:(0,g.jsxs)("p",{children:["Учитесь сейчас — ",(0,g.jsx)("br",{}),"платите потом"]})}),(0,g.jsx)("div",{className:"new-price-page__logo",children:(0,g.jsx)("img",{src:"data:image/png;base64,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",alt:"dolyami_logo",loading:"lazy"})})]})]}),!u&&(0,g.jsx)(o.A,{placement:"right",width:A?"100%":"50%",onClose:()=>P(e=>!e),open:O,styles:{header:{display:"flex",marginLeft:"auto",border:"none"}},className:"new-price-page__drawer",children:(0,g.jsx)(S,{payment:v,tarif:N})})]})}}}]);